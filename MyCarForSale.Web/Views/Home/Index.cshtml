@using System.Globalization
@model MyCarForSale.Web.Controllers.MyViewModel
@{
    ViewData["Title"] = "Home Page";
}

<div class="container mx-auto flex flex-row justify-around">
    <div class="hidden md:flex flex-col relative">
        <div class="min-h-[80vh] text-center mx-5 px-36  rounded bg-blue-500 sticky top-5 flex flex-col flex-wrap justify-between">
            @*
            Side Panel
            *@
            @foreach (var item in Model.MainClassification)
            {
                <button class="flex justify-center align-middle self-stretch my-auto">@item</button>
            }
        </div>
        <div class="my-[10vh]"></div>
        <div class="min-h-[5vh] sticky top-[85vh]">
            <a href="#" class="flex justify-center">
                <svg class="h-10 mr-3" width="51" height="70" viewBox="0 0 51 70" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path d="M1 53H27.9022C40.6587 53 51 42.7025 51 30H24.0978C11.3412 30 1 40.2975 1 53Z" fill="#76A9FA"></path><path d="M-0.876544 32.1644L-0.876544 66.411C11.9849 66.411 22.4111 55.9847 22.4111 43.1233L22.4111 8.87674C10.1196 8.98051 0.518714 19.5571 -0.876544 32.1644Z" fill="#A4CAFE"></path><path d="M50 5H23.0978C10.3413 5 0 15.2975 0 28H26.9022C39.6588 28 50 17.7025 50 5Z" fill="#1C64F2"></path></g><defs><clipPath id="clip0"><rect width="51" height="70" fill="white"></rect></clipPath></defs></svg>
                <span class="self-center text-lg font-semibold whitespace-nowrap">MyCarForSale</span>
            </a>
        </div>
    </div>
    <div class="flex-col text-center mx-5">
        <table class="">
            <thead class="sticky top-0 backdrop-blur-sm mix-blend-multiply bg-blue-400">
            <th class=" mx-auto py-4 px-24 whitespace-nowrap"></th>
            <th class="mx-auto py-4 px-10 whitespace-nowrap">Ad Title</th>
            @*<th class="mx-auto py-4 px-8 whitespace-nowrap">Description</th>*@
            <th class="mx-auto py-4 px-8 whitespace-nowrap">Price</th>
            @*<th class="mx-auto py-4 px-8 whitespace-nowrap">Drivetrain</th>*@
            @*<th class="mx-auto py-4 px-8 whitespace-nowrap">Horse Power</th>*@
            @*<th class="mx-auto py-4 px-8 whitespace-nowrap">Torque</th>*@
            <th class="mx-auto py-4 px-8 whitespace-nowrap">Displacement</th>
            <th class="mx-auto py-4 px-8 whitespace-nowrap">Transmission</th>
            <th class="mx-auto py-4 px-8 whitespace-nowrap">Car Brand</th>
            <th class="mx-auto py-4 px-8 whitespace-nowrap">Car Model</th>
            <th class="mx-auto py-4 px-8 whitespace-nowrap">Car Package</th>
            <th class="mx-auto py-4 px-8 whitespace-nowrap">Car Year</th>
            </thead>
            <tbody>
            
            @foreach (var item in Model.CarFeatures)
            {
                <tr onclick="rowClick('@item.Id')" class="max-h-4 w-auto even:bg-blue-100 odd:bg-white">
                    <td class="">
                        @if (item.CarImagesEntities.Count != 0)
                        {
                            @foreach (var image in item.CarImagesEntities)
                            {
                                <img src="@image.CarImageUrl" alt="car image"/>
                                break;
                            }   
                        }
                        else
                        {
                            <img src="https://img.freepik.com/free-photo/empty-parking-lot-parking-lane-outdoor-public-park_1127-3374.jpg" alt="car image"/>
                        }
                    </td>
                    <td class="">@item.AdvertisementName</td>
                    @*<td class="">@item.AdvertisementDescription</td>*@
                    <td class="">@item.Price.ToString("#,#", CultureInfo.InvariantCulture).Replace(",", ".")</td>
                    @*<td class="">@item.CarDrivetrain</td>*@
                    @*<td class="">@item.EngineHorsePower</td>*@
                    @*<td class="">@item.EngineTorque</td>*@
                    <td class="">@item.EngineDisplacement</td>
                    <td class="">@item.TransmissionType</td>
                    <td class="">@item.MainClassificationEntityCarBrand</td>
                    <td class="">@item.MainClassificationEntityCarModel</td>
                    <td class="">@item.MainClassificationEntityCarPackage</td>
                    <td class="">@item.MainClassificationEntityCarYear</td>
                </tr>
            }
            @foreach (var item in Model.CarFeatures)
                {
                    <tr onclick="rowClick('@item.Id')" class="max-h-4 w-auto even:bg-blue-100 odd:bg-white">
                        <td class="">
                            @if (item.CarImagesEntities.Count != 0)
                            {
                                @foreach (var image in item.CarImagesEntities)
                                {
                                    <img src="@image.CarImageUrl" alt="car image"/>
                                    break;
                                }   
                            }
                            else
                            {
                                <img src="https://img.freepik.com/free-photo/empty-parking-lot-parking-lane-outdoor-public-park_1127-3374.jpg" alt="car image"/>
                            }
                        </td>
                        <td class="">@item.AdvertisementName</td>
                        @*<td class="">@item.AdvertisementDescription</td>*@
                        <td class="">@item.Price.ToString("#,#", CultureInfo.InvariantCulture).Replace(",", ".")</td>
                        @*<td class="">@item.CarDrivetrain</td>*@
                        @*<td class="">@item.EngineHorsePower</td>*@
                        @*<td class="">@item.EngineTorque</td>*@
                        <td class="">@item.EngineDisplacement</td>
                        <td class="">@item.TransmissionType</td>
                        <td class="">@item.MainClassificationEntityCarBrand</td>
                        <td class="">@item.MainClassificationEntityCarModel</td>
                        <td class="">@item.MainClassificationEntityCarPackage</td>
                        <td class="">@item.MainClassificationEntityCarYear</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
function rowClick(id) {
    console.log("Tıklanan satır ID : ", id);
}
</script>