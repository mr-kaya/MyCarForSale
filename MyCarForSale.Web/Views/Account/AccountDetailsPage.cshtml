@model MyCarForSale.Core.DTOs.UserAccountEntityDto

@{
    ViewBag.Title = "title";
    Layout = "_Layout";
}

<div class="flex flex-row my-10">
    <div class="flex flex-col items-start p-6">
        <div class="w-full flex flex-row justify-start">
            <div class="w-12 h-12 rounded-full bg-gray-200 text-gray-700 text-xl font-semibold flex mx-3 justify-start align-middle">
                <label class="m-auto">@Model.Name.First()@Model.Surname.First()</label>@*First Name, first keyword and last name, first keyword*@
            </div>
            <label class="flex my-auto align-middle font-semibold text-gray-700 text-lg">@Model.Name</label>
        </div>

        <div class="flex flex-col items-start">
            <button class="group flex items-center font-semibold w-full transition-all p-1 text-left mt-3 pr-44 hover:text-blue-500 text-blue-500">
                <svg class="pr-2 fill-blue-500 group-hover:fill-blue-500 group-focus:fill-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48">
                    <path d="M20,6h-7.172c-0.53,0-1.039-0.211-1.414-0.586l-0.828-0.828C10.211,4.211,9.702,4,9.172,4H4C2.9,4,2,4.9,2,6v12 c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8C22,6.9,21.1,6,20,6z M12,9c1.105,0,2,0.895,2,2c0,1.105-0.895,2-2,2s-2-0.895-2-2 C10,9.895,10.895,9,12,9z M15.5,17h-7C8.224,17,8,16.776,8,16.5V16c0-1.33,2.665-2,4-2s4,0.67,4,2v0.5C16,16.776,15.776,17,15.5,17z"/>
                </svg>
                My Account
            </button>
            <a asp-action="AccountAddressPage" asp-controller="Account" class="group flex items-center font-semibold text-gray-600 w-full transition-all p-1 text-left mt-3 pr-44 hover:text-blue-500">
                <svg class="pr-2 fill-[#4B5563] group-hover:fill-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48">
                    <path d="M12 1C8.686 1 6 3.686 6 7C6 10.323 9.6065625 15.105891 11.226562 17.087891C11.627562 17.577891 12.370484 17.577891 12.771484 17.087891C14.392484 15.105891 18 10.323 18 7C18 3.686 15.314 1 12 1 z M 12 4.8574219C13.184 4.8574219 14.142578 5.816 14.142578 7C14.142578 8.183 13.183 9.1425781 12 9.1425781C10.817 9.1425781 9.8574219 8.184 9.8574219 7C9.8574219 5.816 10.816 4.8574219 12 4.8574219 z M 6.9941406 15.564453C6.9172363 15.56473 6.8383906 15.574375 6.7597656 15.59375C3.9047656 16.29875 2 17.56 2 19C2 21.209 6.477 23 12 23C17.523 23 22 21.209 22 19C22 17.56 20.095234 16.299703 17.240234 15.595703C16.611234 15.440703 16 15.926219 16 16.574219C16 17.028219 16.302187 17.433969 16.742188 17.542969C18.547187 17.990969 19.644219 18.612047 19.949219 18.998047C19.434219 19.653047 16.694 20.998047 12 20.998047C7.306 20.998047 4.5657813 19.653047 4.0507812 18.998047C4.3547813 18.611047 5.4528125 17.990969 7.2578125 17.542969C7.6978125 17.434969 8 17.028219 8 16.574219C8 16.006344 7.5324707 15.562512 6.9941406 15.564453 z"/>
                </svg>
                My Address
            </a>
            <a asp-action="AccountPasswordPage" asp-controller="Account" class="group flex items-center font-semibold text-gray-600 w-full transition-all p-1 text-left mt-3 pr-44 hover:text-blue-500">
                <svg class="pr-2 fill-[#4B5563] group-hover:fill-blue-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48">
                    <path d="M12 1C8.6761905 1 6 3.6761905 6 7L6 9.7207031C4.7585397 11.130211 4 12.97425 4 15C4 19.418 7.582 23 12 23C16.418 23 20 19.418 20 15C20 12.97425 19.24146 11.130211 18 9.7207031L18 7C18 3.6761905 15.32381 1 12 1 z M 12 3C14.27619 3 16 4.7238095 16 7L16 8.0800781C14.822119 7.3974831 13.459229 7 12 7C10.540771 7 9.1778813 7.3974831 8 8.0800781L8 7C8 4.7238095 9.7238095 3 12 3 z M 12.041016 12.001953C13.122078 12.023432 14 12.91325 14 14C14 14.735 13.594 15.372703 13 15.720703L13 18C13 18.552 12.552 19 12 19C11.448 19 11 18.552 11 18L11 15.720703C10.274 15.295703 9.8285 14.437047 10.0625 13.498047C10.2415 12.781047 10.843406 12.200875 11.566406 12.046875C11.727156 12.0125 11.886578 11.998885 12.041016 12.001953 z"/>
                </svg>
                Change Password
            </a>
            <a class="flex justify-center items-center font-semibold w-full p-1 text-left bg-blue-400 hover:bg-blue-500 active:bg-blue-600 text-white rounded-lg mt-12">
                <svg class="mr-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48">
                    <path d="M22,8V7c0-0.552-0.448-1-1-1s-1,0.448-1,1v1.65l-1.02-4.84C18.89,3.34,18.48,3,18,3H6C5.52,3,5.11,3.34,5.02,3.81L4,8.64V7 c0-0.552-0.448-1-1-1S2,6.448,2,7v1c0,0.552,0.448,1,1,1h0.62L2.3,10.28C2.108,10.466,2,10.722,2,10.989V20c0,0.552,0.448,1,1,1 h0.998c0.553,0,1.001-0.449,1-1.002L4.994,18h14.011l-0.004,1.998c-0.001,0.553,0.447,1.002,1,1.002H21c0.552,0,1-0.448,1-1v-9 c0-0.268-0.109-0.525-0.301-0.711L20.37,9H21C21.552,9,22,8.552,22,8z M6.74,5.403C6.787,5.169,6.992,5,7.231,5h9.538 c0.239,0,0.444,0.169,0.49,0.403L17.97,9H6.03L6.74,5.403z M5.5,15C4.67,15,4,14.33,4,13.5C4,12.67,4.67,12,5.5,12S7,12.67,7,13.5 C7,14.33,6.33,15,5.5,15z M15,15c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-2c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V15z M18.5,15c-0.83,0-1.5-0.67-1.5-1.5c0-0.83,0.67-1.5,1.5-1.5s1.5,0.67,1.5,1.5C20,14.33,19.33,15,18.5,15z" fill="#FFFFFF"/>
                </svg>
                My Vehicle Ads
            </a>
        </div>
    </div>
    <div class="pr-72">
        <div class="w-[500px] max-w-md">
            <form id="deleteForm" asp-controller="User" asp-action="DeleteUser" method="post" class="mb-4 rounded bg-white outline outline-2 outline-[#A4CAFE] px-8 pb-8">
                <div class="flex justify-center m-auto h-16 pt-6  text-2xl font-bold text-gray-700">User Information</div>
                <div class="mb-4">
                    <label asp-for="Email" class="mb-2 block font-bold text-gray-500"> Email </label>
                    <input asp-for="Email" class="block w-full appearance-none rounded border px-3 py-2 text-sm leading-tight text-gray-700 outline outline-2 outline-gray-200 focus:outline-none" type="email" placeholder="Email" value="@Model.Email" disabled/>
                </div>
                <span asp-validation-for="Email" class="text-red-600 font-semibold"></span>
                
                <div class="-mx-3 mb-6 flex flex-wrap">
                    <div class="mb-6 w-full px-3 md:mb-0 md:w-1/2">
                        <label asp-for="Name" class="mb-2 block font-bold text-gray-500"> Name </label>
                        <input asp-for="Name" class="w-full appearance-none rounded border px-3 py-2 text-sm leading-tight text-gray-700 outline outline-2 outline-gray-200 focus:outline-none" type="text" placeholder="Name" value="@Model.Name"/>
                    </div>
                    <span asp-validation-for="Name" class="text-red-600 font-semibold"></span>
                    
                    <div class="w-full px-3 md:w-1/2">
                        <label asp-for="Surname" class="mb-2 block font-bold text-gray-500"> Surname </label>
                        <input asp-for="Surname" class="w-full appearance-none rounded border px-3 py-2 text-sm leading-tight text-gray-700 outline outline-2 outline-gray-200 focus:outline-none" type="text" placeholder="Surname" value="@Model.Surname"/>
                    </div>
                    <span asp-validation-for="Surname" class="text-red-600 font-semibold"></span>
                </div>
                <div class="mb-4">
                    <label asp-for="Birthday" class="mb-2 block font-bold text-gray-500"> Birthday </label>
                    <input asp-for="Birthday" class="w-full appearance-none rounded border px-3 py-2 text-sm leading-tight text-gray-700 outline outline-2 outline-gray-200 focus:outline-none" id="birthday" name="birthday" type="text"/>
                </div>
                <span asp-validation-for="Birthday" class="text-red-600 font-semibold"></span>
                <div class="mb-4">
                    <label asp-for="PhoneNumber" class="mb-2 block font-bold text-gray-500"> Phone Number </label>
                    <input asp-for="PhoneNumber" class="w-full appearance-none rounded border px-3 py-2 text-sm leading-tight text-gray-700 outline outline-2 outline-gray-200 focus:outline-none" type="text" placeholder="Phone Number" value="@Model.PhoneNumber"/>
                </div>
                <span asp-validation-for="PhoneNumber" class="text-red-600 font-semibold"></span>

                <button type="submit" asp-controller="Account" asp-action="AccountDetailsUpdate" class="mx-auto mb-6 flex justify-center rounded-lg bg-green-600 px-32 py-2 font-semibold text-white hover:bg-green-800">Update</button>
                <hr class="mb-6"/>
                <button type="button" id="deleteButton" class="mx-auto flex justify-center rounded-lg bg-red-600 px-32 py-2 font-semibold text-white hover:bg-red-800">Delete Account</button>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript">

  document.addEventListener("DOMContentLoaded", pageReady);
  function pageReady() {
    document.getElementById("birthday").value = @Model.Birthday.Day+"."+@Model.Birthday.Month+"."+@Model.Birthday.Year;
  }

  document.getElementById("deleteButton").addEventListener("click", function () {
     Swal.fire({
     title: "Are you sure?",
     text: "At the end of this process, your membership will be deleted. If you confirm, you cannot get it back.",
     icon: 'warning',
     showCancelButton: true,
     confirmButtonColor: '#d33',
     cancelButtonColor: '#3085d6',
     confirmButtonText: 'Yes, Delete!',
     cancelButtonText: 'Cancel'               
     }).then((result) => {
         if (result.isConfirmed) {
             document.getElementById("deleteForm").submit();         
         }
     }) 
  });
  
</script>